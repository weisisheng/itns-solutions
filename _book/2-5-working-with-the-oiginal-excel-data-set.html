<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="2.5 Working with the oiginal Excel data set | Solutions for ‘Introdcution To The New Statistics’" />
<meta property="og:type" content="book" />


<meta property="og:description" content="This website is an interactive companion book for Introduction to the New Statistics (abbreviated itns). It offers interactive quizzes with solutions, interactive questions and answers for the in-chapter-exercises and an R tutorial for the end-of-chapter exercises." />


<meta name="author" content="Peter Baumgartner" />

<meta name="date" content="2020-02-02" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="This website is an interactive companion book for Introduction to the New Statistics (abbreviated itns). It offers interactive quizzes with solutions, interactive questions and answers for the in-chapter-exercises and an R tutorial for the end-of-chapter exercises.">

<title>2.5 Working with the oiginal Excel data set | Solutions for ‘Introdcution To The New Statistics’</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/darkly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #2a211c;
    color: #bdae9d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #bdae9d;  padding-left: 4px; }
div.sourceCode
  { color: #bdae9d; background-color: #2a211c; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffff00; } /* Alert */
code span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #44aa43; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code span.ch { color: #049b0a; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code span.do { color: #0066ff; font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.dv { color: #44aa43; } /* DecVal */
code span.er { color: #ffff00; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #44aa43; } /* Float */
code span.fu { color: #ff9358; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code span.op { } /* Operator */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.sc { color: #049b0a; } /* SpecialChar */
code span.ss { color: #049b0a; } /* SpecialString */
code span.st { color: #049b0a; } /* String */
code span.va { } /* Variable */
code span.vs { color: #049b0a; } /* VerbatimString */
code span.wa { color: #ffff00; font-weight: bold; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link rel="stylesheet" href="css/mystyle.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li class="has-sub"><a href="index.html#introduction">Introduction</a><ul>
<li><a href="three-types-of-content.html#three-types-of-content">Three Types of Content</a></li>
<li class="has-sub"><a href="general-setup.html#general-setup">General Setup</a><ul>
<li><a href="general-setup.html#global-options">Global Options</a></li>
<li><a href="general-setup.html#installing-and-loading-r-packages">Installing and loading R packages</a></li>
<li><a href="general-setup.html#theme-adaption-for-the-graphic-display-with-ggplot2">Theme adaption for the graphic display with <code>ggplot2</code></a></li>
</ul></li>
</ul></li>
<li><a href="1-research-questions.html#research-questions"><span class="toc-section-number">1</span> Research Questions</a></li>
<li class="has-sub"><a href="2-picturing-describing-data.html#picturing-describing-data"><span class="toc-section-number">2</span> Picturing &amp; Describing Data</a><ul>
<li class="has-sub"><a href="2-1-end-of-chapter-exercises.html#end-of-chapter-exercises"><span class="toc-section-number">2.1</span> End-of-Chapter Exercises</a><ul>
<li class="has-sub"><a href="2-1-end-of-chapter-exercises.html#calculating-decriptive-statistics"><span class="toc-section-number">2.1.1</span> Calculating decriptive statistics</a><ul>
<li><a href="2-1-end-of-chapter-exercises.html#description"><span class="toc-section-number">2.1.1.1</span> Description</a></li>
<li><a href="2-1-end-of-chapter-exercises.html#solution"><span class="toc-section-number">2.1.1.2</span> Solution</a></li>
</ul></li>
<li class="has-sub"><a href="2-1-end-of-chapter-exercises.html#loading-our-first-data-set"><span class="toc-section-number">2.1.2</span> Loading our first data set</a><ul>
<li><a href="2-1-end-of-chapter-exercises.html#inspecting-the-itns-package"><span class="toc-section-number">2.1.2.1</span> Inspecting the <code>itns</code>-package</a></li>
<li><a href="2-1-end-of-chapter-exercises.html#reading-the-codebook-for-college-survey1"><span class="toc-section-number">2.1.2.2</span> Reading the codebook for <code>college-survey1</code></a></li>
</ul></li>
<li class="has-sub"><a href="2-1-end-of-chapter-exercises.html#distribution-of-positive-affect-scores"><span class="toc-section-number">2.1.3</span> Distribution of positive affect scores</a><ul>
<li><a href="2-1-end-of-chapter-exercises.html#visualize-the-distribution"><span class="toc-section-number">2.1.3.1</span> Visualize the distribution</a></li>
<li class="has-sub"><a href="2-1-end-of-chapter-exercises.html#histogram"><span class="toc-section-number">2.1.3.2</span> Histogram</a><ul>
<li><a href="2-1-end-of-chapter-exercises.html#addressing-the-notification"><span class="toc-section-number">2.1.3.2.1</span> Addressing the notification</a></li>
<li><a href="2-1-end-of-chapter-exercises.html#addressing-the-warning"><span class="toc-section-number">2.1.3.2.2</span> Addressing the warning</a></li>
</ul></li>
<li><a href="2-1-end-of-chapter-exercises.html#dot-plot"><span class="toc-section-number">2.1.3.3</span> Dot plot</a></li>
<li><a href="2-1-end-of-chapter-exercises.html#interpretation"><span class="toc-section-number">2.1.3.4</span> Interpretation</a></li>
</ul></li>
<li><a href="2-1-end-of-chapter-exercises.html#distribution-of-student-age"><span class="toc-section-number">2.1.4</span> Distribution of student age</a></li>
<li><a href="2-1-end-of-chapter-exercises.html#distribution-of-exercise-scores"><span class="toc-section-number">2.1.5</span> Distribution of exercise scores</a></li>
<li><a href="2-1-end-of-chapter-exercises.html#distribution-of-raven-scores-and-gpa"><span class="toc-section-number">2.1.6</span> Distribution of Raven scores and GPA</a></li>
<li><a href="2-1-end-of-chapter-exercises.html#presentation-of-the-gender-distribution"><span class="toc-section-number">2.1.7</span> Presentation of the gender distribution</a></li>
</ul></li>
<li class="has-sub"><a href="2-2-put-some-indidual-scores-in-context.html#put-some-indidual-scores-in-context"><span class="toc-section-number">2.2</span> Put some indidual scores in context</a><ul>
<li><a href="2-2-put-some-indidual-scores-in-context.html#female-student-on-the-ravens-measure"><span class="toc-section-number">2.2.1</span> Female student on the Ravens measure</a></li>
<li><a href="2-2-put-some-indidual-scores-in-context.html#the-same-student-in-gpa"><span class="toc-section-number">2.2.2</span> The same student in GPA</a></li>
</ul></li>
<li class="has-sub"><a href="2-3-comparing-the-positive-and-negative-affect-of-a-partipant.html#comparing-the-positive-and-negative-affect-of-a-partipant"><span class="toc-section-number">2.3</span> Comparing the positive and negative affect of a partipant</a><ul>
<li><a href="2-3-comparing-the-positive-and-negative-affect-of-a-partipant.html#positve-affect"><span class="toc-section-number">2.3.0.1</span> Positve Affect</a></li>
<li><a href="2-3-comparing-the-positive-and-negative-affect-of-a-partipant.html#negative-affect"><span class="toc-section-number">2.3.0.2</span> Negative Affect</a></li>
<li><a href="2-3-comparing-the-positive-and-negative-affect-of-a-partipant.html#comparison-positive-with-negative-affect"><span class="toc-section-number">2.3.0.3</span> Comparison: Positive with Negative Affect</a></li>
<li><a href="2-3-comparing-the-positive-and-negative-affect-of-a-partipant.html#determine-outliers"><span class="toc-section-number">2.3.1</span> Determine outliers</a></li>
</ul></li>
<li class="has-sub"><a href="2-4-religious-beliefs.html#religious-beliefs"><span class="toc-section-number">2.4</span> Religious Beliefs</a><ul>
<li><a href="2-4-religious-beliefs.html#estimate-the-distribution"><span class="toc-section-number">2.4.1</span> Estimate the distribution</a></li>
<li><a href="2-4-religious-beliefs.html#graphic-of-the-religious-data"><span class="toc-section-number">2.4.2</span> Graphic of the religious data</a></li>
<li><a href="2-4-religious-beliefs.html#evaluate-the-different-location-parameters"><span class="toc-section-number">2.4.3</span> Evaluate the different location parameters</a></li>
</ul></li>
<li class="has-sub"><a href="2-5-working-with-the-oiginal-excel-data-set.html#working-with-the-oiginal-excel-data-set"><span class="toc-section-number">2.5</span> Working with the oiginal Excel data set</a><ul>
<li><a href="2-5-working-with-the-oiginal-excel-data-set.html#load-data-set-from-excel-file"><span class="toc-section-number">2.5.1</span> Load data set from Excel file</a></li>
<li><a href="2-5-working-with-the-oiginal-excel-data-set.html#problems-with-the-exercise-variable"><span class="toc-section-number">2.5.2</span> Problems with the Exercise variable</a></li>
<li><a href="2-5-working-with-the-oiginal-excel-data-set.html#problems-with-the-ravens_score"><span class="toc-section-number">2.5.3</span> Problems with the Ravens_Score</a></li>
<li><a href="2-5-working-with-the-oiginal-excel-data-set.html#gender-data"><span class="toc-section-number">2.5.4</span> Gender data</a></li>
</ul></li>
</ul></li>
<li><a href="references.html#references">References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="working-with-the-oiginal-excel-data-set" class="section level2">
<h2><span class="header-section-number">2.5</span> Working with the oiginal Excel data set</h2>
<div id="load-data-set-from-excel-file" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Load data set from Excel file</h3>
<p>In RStudio there are several options to import data files via the menu available. I generally prefer .csv files using the option <code>From Text (readr)</code>. <code>readr</code> is a package included in <code>tidyverse</code>.</p>
<p><img src="../img/import-dataset-menu-min.png" /></p>
<p>
<img src="../img/import-dataset-window-min.png" />
</p>
<p>In the import data window you can preview the first 50 data. The R program code is displayed in the bottom right section of the window, so that you can automate this step. This is not only time saving but also necessary for better reproducibility. As we already have loaded <code>readr</code> and do not want to display the dataset in RStudio automatically we only need the second line of the program code.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb113-1"></a><span class="op">&gt;</span><span class="st"> </span>college1 &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;../_Material/AllEOC_Exercises/College_Survey_1/College_Survey_1.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Error: &#39;../_Material/AllEOC_Exercises/College_Survey_1/College_Survey_1.csv&#39; does not exist in current working directory (&#39;/Users/petzi/Documents/Meine-Repos/itns-solutions&#39;).</code></pre>
<p>After loading the dataset you will see in the console window the parameters <code>readr</code> has used to parse the column specification. This all is done normally correctly, automatically, and hassle-free.</p>
<p>But it is import to check these parsing decisions made by <code>readr</code>. Ignore the strange <code>[31m</code> and <code>[39m</code> strings in the printed output. These are the internal characters for changing text to red color. This is the way <code>readr</code> warns you that there are character columns in the table. You can convert them to factor variable but this is with extra columns for Gender (Gender_Code), Schoolyear (Schoolyear_Code), and Student_Athlete (Student_Athlete_Code) already done.</p>
<p>Remains Exercise and Rave_Score. Both columns contain numbers and should display like the default mode in the format col_double() which is the R code for double precision floating point numbers. We have to inspect these two columns more in detail: Use the command <code>View(college1)</code> from the console or display the data set by choosing it form the tab <code>Environment</code> on the right upper window.</p>
<p>The reason for the wrong format is that the variable <code>Exercise</code> contains ‘-’ and <code>Raven_Score</code> has ‘%’-signs added after the numbers. I will deal with this problem later, when we are going to use one of this variables.</p>
<p>During the inspection of the data set I noticed two other minor problems:</p>
<ul>
<li>The last few rows — from row 244 – 247 are emtpy, respectively filled witn NAs (“not available”). We may delete these rows.</li>
<li>There is a typo in the column name <code>Shool_Year</code> which should be <code>School_Year</code>.</li>
</ul>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb115-1"></a><span class="op">&gt;</span><span class="st"> </span>college1 &lt;-<span class="st"> </span>college1[<span class="dv">1</span><span class="op">:</span><span class="dv">243</span>, ]  <span class="co"># delete empty rows</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb117-1"></a><span class="op">&gt;</span><span class="st"> </span><span class="kw">colnames</span>(college1)[<span class="dv">5</span>] &lt;-<span class="st"> &quot;School_Year&quot;</span></span></code></pre></div>
<pre><code>## Error in colnames(college1)[5] &lt;- &quot;School_Year&quot;: object &#39;college1&#39; not found</code></pre>
</div>
<div id="problems-with-the-exercise-variable" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Problems with the Exercise variable</h3>
<p>With the Exercise variable we cannot use the above <code>ggplot2</code> commands to display the histogram. Try it out and you will get the following error message:</p>
<div class="alert alert-danger" role="alert">
Error: StatBin requires a continuous x variable: the x variable is discrete. Perhaps you want stat=“count”?
</div>
<p>The reason is a wrong format of the <code>Exercise</code> variable. Instead of numbers there are some dashes in some of the records. But the dash ‘-’ is a character, so the whole column is convert to a character variable.</p>
<p>The meaning of the dash sign is that there was no exercise reported. To distinguish it from NA (= not available) which means the student did not answer the question, no exercise was coded unfortunately with a ‘-’ instead of a 0. For questions of reproducibility it is always a good idea not to change the original data set. Therefore I will create a new variable <code>Exercise_Code</code>, convert all dashes to 0 and format the column <code>as.double()</code>.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb119-1"></a><span class="op">&gt;</span><span class="st"> </span>college1<span class="op">$</span>Exercise_Code &lt;-<span class="st"> </span>college1<span class="op">$</span>Exercise  <span class="co"># copy column</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb121-1"></a><span class="op">&gt;</span><span class="st"> </span>college1 &lt;-<span class="st"> </span>college1[, <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">18</span>, <span class="dv">24</span>, <span class="dv">19</span><span class="op">:</span><span class="dv">23</span>)]  <span class="co"># reorder Exercise_Code after Exercise</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb123-1"></a><span class="op">&gt;</span><span class="st"> </span>college1<span class="op">$</span>Exercise_Code[college1<span class="op">$</span>Exercise_Code <span class="op">==</span><span class="st"> &quot;-&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>  <span class="co"># set all &#39;-&#39; to 0</span></span></code></pre></div>
<pre><code>## Error in college1$Exercise_Code[college1$Exercise_Code == &quot;-&quot;] &lt;- 0: object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb125-1"></a><span class="op">&gt;</span><span class="st"> </span>college1<span class="op">$</span>Exercise_Code &lt;-<span class="st"> </span><span class="kw">as.double</span>(college1<span class="op">$</span>Exercise_Code)  <span class="co"># convert column from character to double</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;college1&#39; not found</code></pre>
<p>The last line spits out the message “NAs introduced by coercion”. This is a kind of error message saying that some number conversion did not succeed. Instead converting number strings to numbers NAs were created. To find this error was a little bit tricky but finally it turned out that the extreme outlier in row 138 with <code>1,810.00</code> was the problem: The comma in this big figure is interpreted as a character.</p>
<p>We could change this unique value but I will provide a <a href="https://stackoverflow.com/questions/1523126/how-to-read-data-when-some-numbers-contain-commas-as-thousand-separator">general solution taken from StackOverflow</a>. We have to delete the “destroyed” column “Exercise_Code” and start again with the conversion process. In the real praxis we would change simply the code junk above and run the whole program again.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb127-1"></a><span class="op">&gt;</span><span class="st"> </span>college1 &lt;-<span class="st"> </span>college1[, <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">18</span>, <span class="dv">20</span><span class="op">:</span><span class="dv">24</span>)]  <span class="co"># delete column `Exercise_Code`</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb129-1"></a><span class="op">&gt;</span><span class="st"> </span>college1<span class="op">$</span>Exercise_Code &lt;-<span class="st"> </span>college1<span class="op">$</span>Exercise  <span class="co"># create it again</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb131-1"></a><span class="op">&gt;</span><span class="st"> </span>college1 &lt;-<span class="st"> </span>college1[, <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">18</span>, <span class="dv">24</span>, <span class="dv">19</span><span class="op">:</span><span class="dv">23</span>)]  <span class="co"># reorder Exercise_Code after Exercise</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb133-1"></a><span class="op">&gt;</span><span class="st"> </span>college1<span class="op">$</span>Exercise_Code[college1<span class="op">$</span>Exercise_Code <span class="op">==</span><span class="st"> &quot;-&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>  <span class="co"># set all &#39;-&#39; to 0</span></span></code></pre></div>
<pre><code>## Error in college1$Exercise_Code[college1$Exercise_Code == &quot;-&quot;] &lt;- 0: object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb135-1"></a><span class="op">&gt;</span><span class="st"> </span><span class="co">## and now the new line: deleting commas and converting to double precision floating point numbers</span></span>
<span id="cb135-2"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb135-2"></a><span class="er">&gt;</span><span class="st"> </span>college1<span class="op">$</span>Exercise_Code &lt;-<span class="st"> </span><span class="kw">as.double</span>(<span class="kw">gsub</span>(<span class="st">&quot;,&quot;</span>, <span class="st">&quot;&quot;</span>, college1<span class="op">$</span>Exercise_Code))</span></code></pre></div>
<pre><code>## Error in gsub(&quot;,&quot;, &quot;&quot;, college1$Exercise_Code): object &#39;college1&#39; not found</code></pre>
</div>
<div id="problems-with-the-ravens_score" class="section level3">
<h3><span class="header-section-number">2.5.3</span> Problems with the Ravens_Score</h3>
<p>Here we are confronted with a similar problem. The “%” sign is a character. So we have to recode this variable to get rid of the %-sign and to convert the variable to a double precise floating number. This is similar procedure as we have already done with the <code>Exercise</code> variable.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb137-1"></a><span class="op">&gt;</span><span class="st"> </span>college1<span class="op">$</span>Raven_Score_Code &lt;-<span class="st"> </span>college1<span class="op">$</span>Raven_Score  <span class="co"># copy column</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb139-1"></a><span class="op">&gt;</span><span class="st"> </span>college1<span class="op">$</span>Raven_Score_Code &lt;-<span class="st"> </span><span class="kw">as.double</span>(<span class="kw">gsub</span>(<span class="st">&quot;%&quot;</span>, <span class="st">&quot;&quot;</span>, college1<span class="op">$</span>Raven_Score_Code))</span></code></pre></div>
<pre><code>## Error in gsub(&quot;%&quot;, &quot;&quot;, college1$Raven_Score_Code): object &#39;college1&#39; not found</code></pre>
</div>
<div id="gender-data" class="section level3">
<h3><span class="header-section-number">2.5.4</span> Gender data</h3>
<p>Here I will reproduce the quote from the book</p>
<blockquote>
<p>In this data set (of the original Excel file, pb), Gender is coded as female = 1 and male = 2. ESCI calculates that the mean is <em>M</em> = 1.28 for Gender. Does this make sense? How might you better summarize gender in this sample? (p.69)</p>
</blockquote>
<blockquote>
<p>No! It doesn’t make sense to calculate a mean for data on a nominal scale. It’s often convenient to represent nominal data with numerical codes, but it’s important to remember that these codes have no numerical meaning, and thus calculation of most descriptive statistics doesn’t make sense. Nominal data can be summarized with frequencies (175 females and 68 males) and relative frequencies (72.0% females and 28.0% males). (p.506)</p>
</blockquote>
<p>We can use the same program lines as we did with the <code>college_survey1</code> data frame.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb141-1"></a><span class="op">&gt;</span><span class="st"> </span>n &lt;-<span class="st"> </span><span class="kw">table</span>(college1<span class="op">$</span>Gender)</span></code></pre></div>
<pre><code>## Error in table(college1$Gender): object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb143-1"></a><span class="op">&gt;</span><span class="st"> </span>res &lt;-<span class="st"> </span><span class="kw">cbind</span>(n, <span class="kw">round</span>(<span class="kw">prop.table</span>(n) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>, <span class="dv">1</span>))</span>
<span id="cb143-2"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb143-2"></a><span class="op">&gt;</span><span class="st"> </span><span class="kw">colnames</span>(res) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Count&quot;</span>, <span class="st">&quot;%&quot;</span>)</span>
<span id="cb143-3"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb143-3"></a><span class="op">&gt;</span><span class="st"> </span>res</span></code></pre></div>
<pre><code>##        Count  %
## Female   175 72
## Male      68 28</code></pre>
<p>We can also convert the variable <code>Gender_Code</code> or even better the variable <code>Gender_Code</code> into a factor variable. This is done with the <code>forcats</code> package which is already loaded as part of the <code>tidyverse</code>.</p>
<p>When you hover with the mouse in the RStudio data browser over the column “Gender_Code” you will see the small message “column 3: numeric with range 1 - 2”. After running the following code try it again und you will see “column 3: factor with two levels”.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb145-1"></a><span class="op">&gt;</span><span class="st"> </span>college1<span class="op">$</span>Gender_Code &lt;-<span class="st"> </span><span class="kw">as.factor</span>(college1<span class="op">$</span>Gender_Code)</span></code></pre></div>
<pre><code>## Error in is.factor(x): object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb147-1"></a><span class="op">&gt;</span><span class="st"> </span>college1<span class="op">$</span>Gender_Code</span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;college1&#39; not found</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb149-1"></a><span class="op">&gt;</span><span class="st"> </span><span class="kw">View</span>(college1)</span></code></pre></div>
<pre><code>## Error in View : object &#39;college1&#39; not found</code></pre>
<p>We have successfully converted the numeric column into a categorial variable with 2 levels. All calculations with numbers will fail.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="2-5-working-with-the-oiginal-excel-data-set.html#cb151-1"></a><span class="op">&gt;</span><span class="st"> </span><span class="kw">mean</span>(college1<span class="op">$</span>Gender_Code)</span></code></pre></div>
<pre><code>## Error in mean(college1$Gender_Code): object &#39;college1&#39; not found</code></pre>

</div>
</div>
<!-- </div> -->
<p style="text-align: center;">
<a href="2-4-religious-beliefs.html"><button class="btn btn-default">Previous</button></a>
<a href="references.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
